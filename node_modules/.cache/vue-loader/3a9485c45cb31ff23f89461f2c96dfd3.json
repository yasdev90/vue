{"remainingRequest":"C:\\Users\\user\\Desktop\\Yasser\\vue-todolist\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\Yasser\\vue-todolist\\src\\views\\Home.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\Yasser\\vue-todolist\\src\\views\\Home.vue","mtime":1595237309609},{"path":"C:\\Users\\user\\Desktop\\Yasser\\vue-todolist\\node_modules\\css-loader\\dist\\cjs.js","mtime":1595230480143},{"path":"C:\\Users\\user\\Desktop\\Yasser\\vue-todolist\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1595230489692},{"path":"C:\\Users\\user\\Desktop\\Yasser\\vue-todolist\\node_modules\\postcss-loader\\src\\index.js","mtime":1595230484701},{"path":"C:\\Users\\user\\Desktop\\Yasser\\vue-todolist\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595230478595},{"path":"C:\\Users\\user\\Desktop\\Yasser\\vue-todolist\\node_modules\\vue-loader\\lib\\index.js","mtime":1595230489691}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmJvZHl7CiAgbWFyZ2luOjA7CiAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmOwp9CgoucmlnaHR7CiAgZmxvYXQ6IHJpZ2h0Owp9Ci5sZWZ0ewogIGZsb2F0OiBsZWZ0Owp9Ci5jb250YWluZXJ7CiAgcGFkZGluZzogMjRweCAxMnB4Owp9Ci52aXNpYmxlewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5oaWRkZW57CiAgZGlzcGxheTogbm9uZTsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"app\">    \n    <AddTodo @add-todo=\"addTodo\"/>\n    <div class=\"container\">\n    <div :class=\"[todosListData.length>0?'visible':'hidden']\" >\n      <div class=\"right\">\n        <TodosInfo :showOptions=\"showOptions\" @filter-changed=\"applyFilter\"/>\n      </div>   \n      <div class=\"left\">\n        <Paging :currentPage=\"pageIndex\" :totalPages=\"Math.ceil(filterdTodos.length/itemsPerPage)\" :todos=\"filterdTodos\"  @prev-page=\"prevPage\" @next-page=\"nextPage\" @page-size-changed=\"setPageSize\" />\n      </div> \n      <TodosList :todos=\"displayedTodos\" @del-tod0=\"deleteTodo\" />       \n    </div>\n    <div :class=\"[todosListData.length>0?'hidden':'visible']\" class=\"alert alert-primary\">\n      <p>horaay! no tasks you got!</p>  \n      </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport TodosList from '../components/todos-list.vue'\nimport TodosInfo from '../components/todos-info.vue'\nimport Paging from '../components/pages-navigation.vue'\nimport AddTodo from '../components/add-todo'\n\nconst baseApiUrl = \"http://localhost:3000/todos\"\n\nexport default {\n  name: 'Home',\n  components: {\n    TodosList,\n    Paging,\n    TodosInfo,\n    AddTodo\n  },\n  props:[\"pageSize\"],\n  data(){\n    return{\n      displayedTodos:[],\n      filterdTodos:[],\n      pageIndex : 1,\n      itemsPerPage:10,\n      lastItemIndex :0,\n     showOptions:[],\n     todosListData:[]\n    }\n  },\n  methods:{\n    addTodo(newTodo){\n      try{        \n     \n      axios.post(baseApiUrl, newTodo).then(res=>{\n        this.filterdTodos.push(newTodo)\n        this.todosListData =  [...this.todosListData, res.data]\n        this.displayTodos()\n      })\n      this.displayTodos()\n       \n      }catch(e){\n        console.log(e)\n      }\n    },\n    nextPage:function (){    \n      if(this.pageIndex<this.todosListData.length/this.itemsPerPage) {\n      this.pageIndex ++;\n      this.lastItemIndex += parseInt(this.itemsPerPage)\n      this.displayTodos()\n      }\n    },\n    prevPage:function (){\n      if(this.pageIndex>1){\n      this.pageIndex --;\n      this.lastItemIndex -= parseInt(this.itemsPerPage)\n       this.displayTodos()\n      }\n    }, \n    displayTodos: function(){\n      this.displayedTodos = this.filterdTodos.slice(this.lastItemIndex, parseInt(this.lastItemIndex) + parseInt(this.itemsPerPage))\n    },\n    setPageSize: function(pageSize){\n     this.itemsPerPage = pageSize\n     this.lastItemIndex = 0\n     this.pageIndex = 1\n     this.displayTodos()\n    },\n\n    applyFilter(filterValue){\n      if(filterValue.toUpperCase()== 'ALL'){\n      this.filterdTodos = this.todosListData\n      }\n      else if(filterValue.toUpperCase()== 'A'){\n      this.filterdTodos = this.todosListData.filter(todo=> !todo.completed)\n      }\n       else if(filterValue.toUpperCase()== 'C'){\n     this.filterdTodos = this.todosListData.filter(todo=> todo.completed)\n      }\n     this.lastItemIndex = 0\n     this.pageIndex =1\n      this.displayTodos()\n    },\n    getShowOptions(){\n      return this.showOptions = [\n         {\n             text:\"all\",\n             value : 'all'\n         },\n         {\n             text:\"active\",\n             value : 'a'\n         },\n          {\n             text:\"completed\",\n             value :'c'\n         },\n     ]\n    },\n    deleteTodo(id){\n         try{         \n      axios.delete(baseApiUrl+'/'+id).then(()=>{        \n        this.todosListData =  this.todosListData .filter(todo=> todo.id !== id)\n         this.filterdTodos =  this.todosListData .filter(todo=>todo.id !== id)\n        this.displayTodos()\n      })}\n      catch(e){\n        console.log(e)\n      }\n    }\n  },\n  created(){\n    axios.get(baseApiUrl).then(res=>{\n      this.todosListData =  this.filterdTodos = res.data\n      this.displayTodos()\n      this.getShowOptions()\n      })       \n      .catch(e =>console.log(e)) \n  }  \n}\n</script>\n\n<style>\nbody{\n  margin:0;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.right{\n  float: right;\n}\n.left{\n  float: left;\n}\n.container{\n  padding: 24px 12px;\n}\n.visible{\n  display: block;\n}\n.hidden{\n  display: none;\n}\n</style>\n"]}]}